(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[798],{7300:function(e,t,n){Promise.resolve().then(n.bind(n,4009))},4009:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var l=n(7437),i=n(2671),r=n(2265),s=n(6648),c=n(7138);function u(){var e;let[t,n]=(0,r.useState)((0,i.bG)()),[u,o]=(0,r.useState)(null),a=()=>n((0,i.bG)());(0,r.useEffect)(()=>{let e=()=>a();return window.addEventListener("bag:changed",e),window.addEventListener("storage",e),()=>{window.removeEventListener("bag:changed",e),window.removeEventListener("storage",e)}},[]);let d=Object.keys(t),f=null!==(e=null!=u?u:d[0])&&void 0!==e?e:null,g=(0,r.useMemo)(()=>{var e;return f&&null!==(e=t[f])&&void 0!==e?e:[]},[t,f]);return(0,l.jsxs)("div",{className:"container py-4",children:[(0,l.jsx)("h1",{children:"Collections"}),0===d.length?(0,l.jsx)("p",{className:"mt-3",children:"No collections yet. Use “+ Collection” on any product."}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"flex gap-2 mt-3 flex-wrap",children:d.map(e=>(0,l.jsxs)("button",{className:"chip ".concat(e===f?"bg-neutral-100":""),onClick:()=>o(e),children:[e," ",(0,l.jsxs)("span",{className:"meta",style:{marginLeft:6},children:["(",t[e].length,")"]})]},e))}),(0,l.jsx)("div",{className:"plp-grid mt-4",children:g.map(e=>(0,l.jsxs)("article",{className:"card p-3",children:[(0,l.jsx)(c.default,{href:"/products/".concat(e.slug),className:"block",children:(0,l.jsx)("div",{style:{position:"relative",width:"100%",aspectRatio:"4/5"},children:(0,l.jsx)(s.default,{src:e.image,alt:e.title,fill:!0,className:"object-cover rounded"})})}),(0,l.jsxs)("div",{className:"mt-3 flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-medium",children:e.title}),(0,l.jsxs)("div",{className:"meta",children:["₹",e.price]})]}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)("button",{className:"btn-luxe",onClick:()=>(0,i.Xq)(e,1),children:"Add to Cart"}),f&&(0,l.jsx)("button",{className:"btn-outline",onClick:()=>(0,i.uQ)(f,e.slug),children:"Remove"})]})]})]},e.slug))})]})]})}},2671:function(e,t,n){"use strict";n.d(t,{$f:function(){return j},LL:function(){return v},PE:function(){return m},Xq:function(){return g},bG:function(){return w},dv:function(){return d},h2:function(){return h},hf:function(){return f},nG:function(){return p},sA:function(){return x},uQ:function(){return b},xo:function(){return N}});let l="cart:v1",i="wishlist:v1",r="wishlist:items:v1",s="collections:v1";function c(e,t){try{let n=localStorage.getItem(e);if(!n)return t;return JSON.parse(n)}catch(e){return t}}function u(e,t){localStorage.setItem(e,JSON.stringify(t))}function o(e){var t;return{slug:e.slug,title:e.title,price:Number(e.price),image:(null===(t=e.images)||void 0===t?void 0:t[0])||"/placeholder.png"}}function a(){window.dispatchEvent(new CustomEvent("bag:changed")),localStorage.setItem("__bag_ping__",String(Date.now()))}function d(){return c(l,[])}function f(){return d().reduce((e,t)=>e+t.qty,0)}function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=o(e),i=d(),r=i.findIndex(e=>e.slug===n.slug);r>=0?i[r].qty+=t:i.push({...n,qty:t}),u(l,i),a()}function m(e,t){u(l,d().map(n=>n.slug===e?{...n,qty:t}:n).filter(e=>e.qty>0)),a()}function h(e){u(l,d().filter(t=>t.slug!==e)),a()}function v(){u(l,[]),a()}function p(e){let t=o(e),n=new Set(c(i,[])),l=c(r,{}),s=!1;return n.has(t.slug)?(n.delete(t.slug),delete l[t.slug]):(n.add(t.slug),l[t.slug]=t,s=!0),u(i,[...n]),u(r,l),a(),s}function x(){let e=c(i,[]),t=c(r,{});return e.map(e=>t[e]).filter(Boolean)}function j(e){let t=new Set(c(i,[])),n=c(r,{});t.delete(e),delete n[e],u(i,[...t]),u(r,n),a()}function w(){return c(s,{})}function N(e,t){let n=w(),l=o(e),i=(t||prompt("Add to which collection?","keyring")||"").trim();if(!i)return;let r=n[i]||[];r.some(e=>e.slug===l.slug)||r.push(l),n[i]=r,u(s,n),a()}function b(e,t){let n=w();n[e]&&(n[e]=n[e].filter(e=>e.slug!==t),0===n[e].length&&delete n[e],u(s,n),a())}}},function(e){e.O(0,[138,648,971,23,744],function(){return e(e.s=7300)}),_N_E=e.O()}]);